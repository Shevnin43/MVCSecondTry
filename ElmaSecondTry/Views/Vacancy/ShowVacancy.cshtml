@model ElmaSecondTry.Models.VacancyModel.MyVacancy

    <h2>Информация объявления вакансии</h2>

<div>
    <hr />
    @if (Model.IsBlocked)
    {
        <h4 style="color:red"> <strong>Данное объявление заблокировано администратором</strong> </h4>
    }
    <div class="form-horizontal">
        <div class="form-group">
            <div class="control-label col-md-9" style="text-align : left; vertical-align:central">
                <dl class="dl-horizontal">
                    <dt>@Html.DisplayNameFor(model => model.OwnerLogin)</dt>
                    <dd>@Html.ActionLink(Model.OwnerLogin, "ShowUser", "User", new { login = Model.OwnerLogin }, null)</dd>

                    <dt>@Html.DisplayNameFor(model => model.CreationDate)</dt>
                    <dd>@Html.DisplayFor(model => model.CreationDate)</dd>

                    <dt>@Html.DisplayNameFor(model => model.EditorLogin)</dt>
                    <dd>@Html.ActionLink(Model.EditorLogin, "ShowUser", "User", new { login = Model.EditorLogin }, null)</dd>

                    <dt>@Html.DisplayNameFor(model => model.LastEdited)</dt>
                    <dd>@Html.DisplayFor(model => model.LastEdited)</dd>

                    <dt>@Html.DisplayNameFor(model => model.Name)</dt>
                    <dd>@Html.DisplayFor(model => model.Name)</dd>

                    <dt>@Html.DisplayNameFor(model => model.About)</dt>
                    <dd>@Html.DisplayFor(model => model.About)</dd>

                    <dt>@Html.DisplayNameFor(model => model.Requirement)</dt>
                    <dd>@Html.DisplayFor(model => model.Requirement)</dd>

                    <dt>Занятость</dt>
                    <dd>@ViewBag.TimeJob</dd>

                    <dt>@Html.DisplayNameFor(model => model.ValidDay)</dt>
                    <dd>@Html.DisplayFor(model => model.ValidDay)</dd>

                    <dt>@Html.DisplayNameFor(model => model.Salary)</dt>
                    <dd>@Html.DisplayFor(model => model.Salary)</dd>
                    @if (!Model.IsOpen)
                    {
                        <dt style="color:red">Вакансия не актуальна</dt>
                    }
                    else
                    {
                        <dt style="color:green">Вакансия актуальна</dt>
                    }
                    <dd></dd>
                </dl>
            </div>
            @if (User.Identity.Name == Model.OwnerLogin || User.IsInRole("Admin"))
            {
        <div valign="top" align="right" class="control-label col-md-3">
            <a href="@Url.Action("EditVacancy", "Vacancy", new { id = Model.Id})">
                <img src="~/Images/black-strong/Edit.png" width="40" title="Редактировать объявление @Model.Id" />
            </a>
            <a href='@Url.Action("DeleteAnnouncement", "Announcement", new { id = Model.Id, login = Model.OwnerLogin})' onclick="return confirm('Вы уверены что желаете удалить объявление @Model.Id ?')">
                <img src="~/Images/black-strong/Delete.png" width="40" title="Удалить объявление @Model.Id" />
            </a>
            @if (User.IsInRole("Admin"))
            {
                if (Model.IsBlocked)
                {
                    <a href='@Url.Action("BlockAnnouncement", "Announcement", new { id = Model.Id, block = false})' onclick="return confirm('Вы уверены что желаете разблокировать объявление @Model.Id ?')">
                        <img src="~/Images/black-strong/Ok.png" width="40" title="Разблокировать объявление @Model.Id" />
                    </a>
                }
                else
                {
                    <a href='@Url.Action("BlockAnnouncement", "Announcement", new { id = Model.Id, block = true})' onclick="return confirm('Вы уверены что желаете заблокировать объявление @Model.Id ?')">
                        <img src="~/Images/black-strong/Cancel.png" width="40" title="Заблокировать объявление @Model.Id" />
                    </a>
                }
            }
        </div>
            }
        </div>
    </div>
</div>
